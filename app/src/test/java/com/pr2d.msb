children.map(function(e){return e.toText()}).join("")},e}(),zt=function(){function e(e,t){void 0===t&&(t=!0),this.text=void 0,this.needsEscape=void 0,this.text=e,this.needsEscape=t}var t=e.prototype;return t.toNode=function(){return document.createTextNode(this.toText())},t.toMarkup=function(){return this.toText()},t.toText=function(){return this.needsEscape?Y.escape(this.text):this.text},e}(),Mt={MathNode:St,TextNode:zt,SpaceNode:function(){function e(e){this.width=void 0,this.character=void 0,this.width=e,this.character=.05555<=e&&e<=.05556?"&VeryThinSpace;":.1666<=e&&e<=.1667?"&ThinSpace;":.2222<=e&&e<=.2223?"&MediumSpace;":.2777<=e&&e<=.2778?"&ThickSpace;":-.05556<=e&&e<=-.05555?"&NegativeVeryThinSpace;":-.1667<=e&&e<=-.1666?"&NegativeThinSpace;":-.2223<=e&&e<=-.2222?"&NegativeMediumSpace;":-.2778<=e&&e<=-.2777?"&NegativeThickSpace;":null}var t=e.prototype;return t.toNode=function(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",this.width+"em"),e},t.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+this.width+'em"/>'},t.toText=function(){return this.character?this.character:" "},e}(),newDocumentFragment:kt},Tt=function(e,t,r){return!W[t][e]||!W[t][e].replace||55349===e.charCodeAt(0)||me.hasOwnProperty(e)&&r&&(r.fontFamily&&"tt"===r.fontFamily.substr(4,2)||r.font&&"tt"===r.font.substr(4,2))||(e=W[t][e].replace),new Mt.TextNode(e)},At=function(e){return 1===e.length?e[0]:new Mt.MathNode("mrow",e)},Bt=function(e,t){if("texttt"===t.fontFamily)return"monospace";if("textsf"===t.fontFamily)return"textit"===t.fontShape&&"textbf"===t.fontWeight?"sans-serif-bold-italic":"textit"===t.fontShape?"sans-serif-italic":"textbf"===t.fontWeight?"bold-sans-serif":"sans-serif";if("textit"===t.fontShape&&"textbf"===t.fontWeight)return"bold-italic";if("textit"===t.fontShape)return"italic";if("textbf"===t.fontWeight)return"bold";var r=t.font;if(!r||"mathnormal"===r)return null;var n=e.mode;if("mathit"===r)return"italic";if("boldsymbol"===r)return"bold-italic";var i=e.text;return Y.contains(["\\imath","\\jmath"],i)?null:(W[n][i]&&W[n][i].replace&&(i=W[n][i].replace),F(i,$e.fontMap[r].fontName,n)?$e.fontMap[r].variant:null)},Ct=function(e,t){for(var r,n=[],i=0;i<e.length;i++){var a=qt(e[i],t);if(a instanceof St&&r instanceof St){if("mtext"===a.type&&"mtext"===r.type&&a.getAttribute("mathvariant")===r.getAttribute("mathvariant")){var o;(o=r.children).push.apply(o,a.children);continue}if("mn"===a.type&&"mn"===r.type){var s;(s=r.children).push.apply(s,a.children);continue}if("mi"===a.type&&1===a.children.length&&"mn"===r.type){var l=a.children[0];if(l instanceof zt&&"."===l.text){var h;(h=r.children).push.apply(h,a.children);continue}}}n.push(a),r=a}return n},Nt=function(e,t){return At(Ct(e,t))},qt=function(e,t){if(!e)return new Mt.MathNode("mrow");if(st[e.type])return st[e.type](e,t);throw new X("Got group of unknown type: '"+e.type+"'")};var Et=function(e){return new Ie({style:e.displayMode?q.DISPLAY:q.TEXT,maxSize:e.maxSize})},Ot=function(e,t,r){var n=Et(r),i=function(e,t,r){var n,i=Ct(e,r);n=1===i.length&&i[0]instanceof St&&Y.contains(["mrow","mtable"],i[0].type)?i[0]:new Mt.MathNode("mrow",i);var a=new Mt.MathNode("annotation",[new Mt.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var o=new Mt.MathNode("semantics",[n,a]),s=new Mt.MathNode("math",[o]);return $e.makeSpan(["katex-mathml"],[s])}(e,t,n),a=wt(e,n),o=$e.makeSpan(["katex"],[i,a]);return r.displayMode?$e.makeSpan(["katex-display"],[o]):o},It={widehat:"^",widecheck:"\u02c7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23b5",overbrace:"\u23de",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21d2",xRightarrow:"\u21d2",overleftharpoon:"\u21bc",xleftharpoonup:"\u21bc",overrightharpoon:"\u21c0",xrightharpoonup:"\u21c0",xLeftarrow:"\u21d0",xLeftrightarrow:"\u21d4",xhookleftarrow:"\u21a9",xhookrightarrow:"\u21aa",xmapsto:"\u21a6",xrightharpoondown:"\u21c1",xleftharpoondown:"\u21bd",xrightleftharpoons:"\u21cc",xleftrightharpoons:"\u21cb",xtwoheadleftarrow:"\u219e",xtwoheadrightarrow:"\u21a0",xlongequal:"=",xtofrom:"\u21c4",xrightleftarrows:"\u21c4",xrightequilibrium:"\u21cc",xleftequilibrium:"\u21cb"},Rt={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Lt=function(e,t,r,n){var i,a=e.height+e.depth+2*r;if(/fbox|color/.test(t)){if(i=$e.makeSpan(["stretchy",t],[],n),"fbox"===t){var o=n.color&&n.getColor();o&&(i.style.borderColor=o)}}else{var s=[];/^[bx]cancel$/.test(t)&&s.push(new L({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(t)&&s.push(new L({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var l=new I(s,{width:"100%",height:a+"em"});i=$e.makeSvgSpan([],[l],n)}return i.height=a,i.style.height=a+"em",i},Ht=function(e){var t=new Mt.MathNode("mo",[new Mt.TextNode(It[e.substr(1)])]);return t.setAttribute("stretchy","true"),t},Dt=function(S,z){var e=function(){var e=4e5,t=S.label.substr(1);if(Y.contains(["widehat","widecheck","widetilde","utilde"],t)){var r,n,i,a="ordgroup"===(c=S.base).type?c.body.length:1;if(5<a)n="widehat"===t||"widecheck"===t?(r=420,e=2364,i=.42,t+"4"):(r=312,e=2340,i=.34,"tilde4");else{var o=[1,1,2,2,3,3][a];n="widehat"===t||"widecheck"===t?(e=[0,1062,2364,2364,2364][o],r=[0,239,300,360,420][o],i=[0,.24,.3,.3,.36,.42][o],t+o):(e=[0,600,1033,2339,2340][o],r=[0,260,286,306,312][o],i=[0,.26,.286,.3,.306,.34][o],"tilde"+o)}var s=new R(n),l=new I([s],{width:"100%",height:i+"em",viewBox:"0 0 "+e+" "+r,preserveAspectRatio:"none"});return{span:$e.makeSvgSpan([],[l],z),minWidth:0,height:i}}var h,m,c,u=[],p=Rt[t],d=p[0],f=p[1],g=p[2],v=g/1e3,y=d.length;if(1===y)h=["hide-tail"],m=[p[3]];else if(2===y)h=["halfarrow-left","halfarrow-right"],m=["xMinYMin","xMaxYMin"];else{if(3!==y)throw new Error("Correct ka